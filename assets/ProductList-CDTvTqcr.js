import{j as e,B as d,u as m,r as l,a as x,L as u}from"./index-DoHeW4dI.js";const g=({imageUrl:t,name:s})=>e.jsx("div",{className:"w-full h-36 rounded-lg overflow-hidden mb-3",children:e.jsx("img",{src:t,alt:s,loading:"lazy",className:"w-full h-full object-contain"})}),h=({label:t})=>e.jsx("div",{className:"pt-1",children:e.jsx(d,{className:"block h-8 px-2 text-center bg-orange-500 text-white text-xs rounded opacity-100 sm:opacity-0 sm:group-hover:opacity-100 hover:bg-orange-300 transition-opacity duration-300",children:e.jsx("span",{className:"text-md",children:t})})}),p=({name:t,shippingInfo:s,price:n})=>e.jsxs("div",{className:"px-2 lg:text-start text-center ",role:"contentinfo","aria-labelledby":"product-info",children:[e.jsx("p",{className:"text-orange-500 font-semibold ",id:"product-info",children:e.jsx("span",{className:"text-gray-700",children:t})}),e.jsx("p",{className:"text-gray-400 font-semibold mt-1 text-sm","aria-label":`Shipping information: ${s}`,children:s}),e.jsxs("div",{className:"flex justify-center items-center gap-3 my-2",children:[e.jsxs("p",{className:"text-lg text-end font-bold text-orange-600 mt-1","aria-label":`Price: ${n}`,children:[n," ₺"]}),e.jsx("div",{className:"lg:ml-auto",children:e.jsx(h,{label:"Sepete ekle"})})]})]}),f=({title:t,price:s,shippingInformation:n,imageUrl:i,onClick:a})=>e.jsxs("div",{onClick:a,className:"relative group rounded-lg overflow-hidden w-full p-3 cursor-pointer",children:[e.jsx(g,{imageUrl:i,name:t}),e.jsx(p,{name:t,shippingInfo:n,price:s})]}),v=()=>{const{visibleProducts:t,loading:s,error:n,loadMoreProducts:i}=m(),a=l.useRef(null),o=x();return l.useEffect(()=>{const r=new IntersectionObserver(([c])=>{c.isIntersecting&&i()},{rootMargin:"100px"});return a.current&&r.observe(a.current),()=>{a.current&&r.unobserve(a.current)}},[i]),s&&t.length===0?e.jsx(u,{}):n?e.jsxs("p",{children:["Error: ",n]}):e.jsxs("div",{className:"w-full h-full  sm:mt-4",children:[e.jsx("div",{className:"grid grid-cols-1 mt-10 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 justify-items-center items-center",children:t.length>0?t.map(r=>e.jsx(f,{title:r.title,price:r.price,shippingInformation:r.shippingInformation,imageUrl:r.thumbnail,onClick:()=>o(`/product/${r.id}`)},r.id)):e.jsx("p",{children:"Ürün Bulunamadı."})}),s&&e.jsx("p",{children:"Daha Fazla Ürün Yükleniyor..."}),e.jsx("div",{ref:a,className:"text-center mt-4",children:t.length>0&&!s&&e.jsx("p",{})})]})};export{v as default};
